module "service_account" {
  source       = "git@bitbucket.org:whirpoolnardevops/whr-tf-modules.git//terraform-google-service-account?ref=main"
  depends_on   = [module.project]
  for_each     = { for eachsa in var.sa : eachsa.sa_id => eachsa }
  sa_id        = each.key
  display_name = each.value.display_name
  project_id   = split("/", module.project[each.value.project_id].id)[1]
}